{"ast":null,"code":"import { MongoClient } from 'mongodb';\nconst uri = \"mongodb+srv://user:SzfI2Oi7HddXdl6b@car.h9rsz6v.mongodb.net/?retryWrites=true&w=majority&appName=car\";\nconst client = new MongoClient(uri);\nexport async function getCars() {\n  try {\n    // Connect to MongoDB\n    await client.connect();\n    const database = client.db('car');\n    const collection = database.collection('cars');\n\n    // Find all cars\n    const cursor = collection.find({});\n    const cars = [];\n    await cursor.forEach(carDoc => {\n      // Map MongoDB document to Car type\n      const car = {\n        id: carDoc.id,\n        brand: carDoc.brand,\n        model: carDoc.model,\n        seats: carDoc.seats,\n        category: carDoc.category,\n        horsepower: carDoc.horsepower,\n        seatsCount: carDoc.seatsCount,\n        fuelType: carDoc.fuelType,\n        price: carDoc.price,\n        link: carDoc.link\n      };\n      cars.push(car);\n    });\n    console.log(cars);\n    return cars;\n  } finally {\n    // Close the connection\n    await client.close();\n  }\n}","map":{"version":3,"names":["MongoClient","uri","client","getCars","connect","database","db","collection","cursor","find","cars","forEach","carDoc","car","id","brand","model","seats","category","horsepower","seatsCount","fuelType","price","link","push","console","log","close"],"sources":["C:/Source/car-rental/TBZ_Modul_322/src/CarConnection.ts"],"sourcesContent":["import { Car } from \"./components/Atoms/Carmodel\";\r\nimport { MongoClient } from 'mongodb';\r\n\r\nconst uri = \"mongodb+srv://user:SzfI2Oi7HddXdl6b@car.h9rsz6v.mongodb.net/?retryWrites=true&w=majority&appName=car\";\r\n\r\nconst client = new MongoClient(uri);\r\n\r\nexport async function getCars(): Promise<Car[]> {\r\n  try {\r\n    // Connect to MongoDB\r\n    await client.connect();\r\n\r\n    const database = client.db('car');\r\n    const collection = database.collection('cars');\r\n\r\n    // Find all cars\r\n    const cursor = collection.find({});\r\n    const cars: Car[] = [];\r\n\r\n    await cursor.forEach(carDoc => {\r\n      // Map MongoDB document to Car type\r\n      const car: Car = {\r\n        id: carDoc.id,\r\n        brand: carDoc.brand,\r\n        model: carDoc.model,\r\n        seats: carDoc.seats,\r\n        category: carDoc.category,\r\n        horsepower: carDoc.horsepower,\r\n        seatsCount: carDoc.seatsCount,\r\n        fuelType: carDoc.fuelType,\r\n        price: carDoc.price,\r\n        link: carDoc.link,\r\n      };\r\n      cars.push(car);\r\n    });\r\n\r\n    console.log(cars);\r\n    return cars;\r\n  } finally {\r\n    // Close the connection\r\n    await client.close();\r\n  }\r\n}\r\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,SAAS;AAErC,MAAMC,GAAG,GAAG,sGAAsG;AAElH,MAAMC,MAAM,GAAG,IAAIF,WAAW,CAACC,GAAG,CAAC;AAEnC,OAAO,eAAeE,OAAOA,CAAA,EAAmB;EAC9C,IAAI;IACF;IACA,MAAMD,MAAM,CAACE,OAAO,CAAC,CAAC;IAEtB,MAAMC,QAAQ,GAAGH,MAAM,CAACI,EAAE,CAAC,KAAK,CAAC;IACjC,MAAMC,UAAU,GAAGF,QAAQ,CAACE,UAAU,CAAC,MAAM,CAAC;;IAE9C;IACA,MAAMC,MAAM,GAAGD,UAAU,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC;IAClC,MAAMC,IAAW,GAAG,EAAE;IAEtB,MAAMF,MAAM,CAACG,OAAO,CAACC,MAAM,IAAI;MAC7B;MACA,MAAMC,GAAQ,GAAG;QACfC,EAAE,EAAEF,MAAM,CAACE,EAAE;QACbC,KAAK,EAAEH,MAAM,CAACG,KAAK;QACnBC,KAAK,EAAEJ,MAAM,CAACI,KAAK;QACnBC,KAAK,EAAEL,MAAM,CAACK,KAAK;QACnBC,QAAQ,EAAEN,MAAM,CAACM,QAAQ;QACzBC,UAAU,EAAEP,MAAM,CAACO,UAAU;QAC7BC,UAAU,EAAER,MAAM,CAACQ,UAAU;QAC7BC,QAAQ,EAAET,MAAM,CAACS,QAAQ;QACzBC,KAAK,EAAEV,MAAM,CAACU,KAAK;QACnBC,IAAI,EAAEX,MAAM,CAACW;MACf,CAAC;MACDb,IAAI,CAACc,IAAI,CAACX,GAAG,CAAC;IAChB,CAAC,CAAC;IAEFY,OAAO,CAACC,GAAG,CAAChB,IAAI,CAAC;IACjB,OAAOA,IAAI;EACb,CAAC,SAAS;IACR;IACA,MAAMR,MAAM,CAACyB,KAAK,CAAC,CAAC;EACtB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}